<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>C&E – Panier</title>
<style>
  :root{
    --brand:#ff3a3a; --bg:#fff8f5; --ink:#2a2a2a; --panel:#ffffff;
    --muted:#f4f4f4; --shadow:0 8px 24px rgba(0,0,0,.06);
    --border:#eee; --ink-muted:#666; --ok:#10b981; --warn:#ef4444;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,Helvetica,sans-serif;background:var(--bg);color:var(--ink);line-height:1.45}

  /* Header */
  header{background:linear-gradient(135deg,var(--brand),#ff6a6a);color:#fff;padding:18px 0}
  header .wrap{max-width:1140px;margin:0 auto;padding:0 16px;display:flex;gap:12px;align-items:center;justify-content:space-between}
  header a{color:#fff;text-decoration:none;font-weight:700;opacity:.95}
  header a:hover{opacity:1; text-decoration:underline}
  header .title{font-size:1.25rem;font-weight:800;letter-spacing:.2px}

  /* Layout */
  .wrap{max-width:1140px;margin:0 auto;padding:18px 16px}
  .layout{display:grid;grid-template-columns:1.6fr .9fr;gap:18px}
  @media (max-width: 900px){ .layout{grid-template-columns:1fr} }

  /* Panels */
  .panel{background:var(--panel);border-radius:18px;box-shadow:var(--shadow);padding:1.1rem;border:1px solid var(--border)}
  h1{margin:.2rem 0 .6rem;font-size:1.35rem}
  h2{margin:.2rem 0 .8rem;font-size:1.05rem;color:#333}

  /* Empty state */
  .empty{ text-align:center;padding:2rem 1rem;background:#fff;border:1px dashed #ffd2d2;border-radius:16px;color:#b60000 }

  /* List items */
  .cart-list{display:flex;flex-direction:column;gap:12px;margin-top:.4rem}
  .item{
    display:grid;grid-template-columns:auto 1fr auto;gap:14px;align-items:center;
    border:1px solid var(--border);border-radius:16px;background:#fff;padding:12px;
    transition:transform .2s ease, box-shadow .2s ease;
  }
  .item:hover{ transform:translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.05) }
  .thumb{
    width:64px;height:64px;border-radius:12px;object-fit:contain;background:#fff;border:1px solid #f1f1f1;
  }
  .item-main{display:flex;flex-direction:column;gap:6px}
  .item-head{display:flex;gap:.6rem;flex-wrap:wrap;align-items:center}
  .tag{padding:.2rem .55rem;border-radius:999px;background:#fff0f0;color:#b60000;font-weight:700;font-size:.78rem;border:1px solid #ffd6d6}
  .title{font-weight:800}
  .meta{font-size:.92rem;color:var(--ink-muted)}
  .meta b{color:#333}
  .list{margin:.3rem 0 0;padding:0 0 0 1rem;color:#444}
  .list li{margin:.15rem 0}

  .item-right{display:flex;flex-direction:column;gap:.5rem;align-items:flex-end}
  .price-line{font-size:.92rem;color:#444}
  .qty{display:flex;gap:.4rem;align-items:center}
  .qty button{
    width:34px;height:34px;border-radius:10px;border:1px solid #ffd2d2;background:#fff;color:var(--brand);
    font-weight:800;cursor:pointer;transition:transform .08s ease;
  }
  .qty button:active{ transform:scale(.97) }
  .qty input{
    width:56px;height:34px;text-align:center;border:1px solid var(--border);border-radius:10px
  }
  .row-actions{display:flex;gap:.5rem;flex-wrap:wrap}
  .chip-btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:.45rem .7rem;cursor:pointer}
  .chip-btn:hover{ background:#fafafa }

  /* Summary */
  .summary-card{position:sticky;top:16px;display:flex;flex-direction:column;gap:12px}
  .summary{
    display:grid;grid-template-columns:1fr auto;gap:.55rem;padding:.9rem;border:1px solid var(--border);
    border-radius:14px;background:#fff
  }
  .summary .row{display:flex;gap:.5rem;justify-content:space-between}
  .summary .total{font-weight:900;font-size:1.05rem}
  .muted{color:var(--ink-muted)}

  /* Buttons */
  .actions{display:flex;gap:.6rem;flex-wrap:wrap}
  .btn{border:none;border-radius:12px;padding:.85rem 1.1rem;cursor:pointer;font-weight:800;box-shadow:var(--shadow);letter-spacing:.2px}
  .btn-primary{background:var(--brand);color:#fff}
  .btn-light{background:#fff;border:1px solid #ffd2d2;color:var(--brand)}
  .btn-ghost{background:#fff;border:1px solid var(--border);color:#333}
  .btn:disabled,.btn.is-disabled{opacity:.55;cursor:not-allowed;filter:grayscale(1);box-shadow:none}
  .btn-primary:disabled{ background:#d6d6d6; color:#888; border:1px solid #ddd; }

  /* Inputs block */
  .grid-form{display:grid;gap:.8rem;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
  .input, .select, .textarea{
    width:100%;padding:.7rem .75rem;border:1px solid #eee;border-radius:10px;background:#fff;
    font:inherit;color:inherit
  }
  .tiny{font-size:.85rem;color:var(--ink-muted)}

  /* Mobile bottom bar (optional) */
  @media (max-width: 900px){
    .mobile-checkout{
      position:sticky;bottom:-1px;z-index:5;background:#fff;border:1px solid var(--border);
      border-radius:14px;padding:.7rem .8rem;display:flex;justify-content:space-between;align-items:center;gap:10px;
      box-shadow:0 -6px 18px rgba(0,0,0,.06)
    }
  }

  /* Fix boutons : bloc, non cassés */
.btn{
  display:inline-flex;            /* pour un vrai bloc bouton */
  align-items:center;
  justify-content:center;
  white-space:nowrap;             /* empêche la coupure en 2 lignes */
  line-height:1;                  /* évite les décalages */
  text-decoration:none;           /* pour les <a> */
}

.actions .btn{ flex:0 0 auto; }   /* évite que le bouton s’étire / se casse dans le flex */
<meta id="vp" name="viewport" content="width=device-width, initial-scale=1">

</style>
</head>
<body>
<header>
  <div class="wrap">
    <a href="carte.html">← Continuer les achats</a>
    <div class="title">Votre panier</div>
    <div></div>
  </div>
</header>

<main class="wrap">
  <div class="layout">
    <!-- Colonne gauche : liste -->
    <section class="panel">
      <h1>Récapitulatif</h1>

      <div id="cartEmpty" class="empty" style="display:none">
        Votre panier est vide pour le moment.<br>
        <div style="margin-top:.9rem">
          <a class="btn btn-primary" href="carte.html">Aller à la carte</a>
        </div>
      </div>

      <div id="cartList" class="cart-list" aria-live="polite"></div>

      <!-- Barre mobile (affichée via JS si items) -->
      <div id="mobileBar" class="mobile-checkout" style="display:none">
        <div class="tiny"><b>Total</b> : <span id="mSumTotal">—</span></div>
        <button class="btn btn-primary" id="mBtnCheckout">Passer la commande</button>
      </div>
    </section>

    <!-- Colonne droite : résumé + infos + actions -->
    <aside class="summary-card">
      <div id="cartSummary" class="summary panel" style="display:none">
        <div class="row"><span>Articles</span><span id="sumItems">0</span></div>
        <div class="row"><span>Estimation</span><span id="sumPrice">—</span></div>
        <div class="row total"><span>Total</span><span id="sumTotal">—</span></div>
      </div>

      <div class="panel">
        <h2 style="margin-top:0">Infos de retrait</h2>
        <div class="grid-form">
          <div>
            <label class="tiny">Nom</label>
            <input id="chkName" type="text" placeholder="Votre nom" class="input">
          </div>
          <div>
            <label class="tiny">Téléphone</label>
            <input id="chkPhone" type="tel" placeholder="06..." class="input">
          </div>
          <div>
            <label class="tiny">Mode de retrait</label>
            <select id="chkMode" class="select">
              <option value="magasin" selected>Retrait en magasin</option>
            </select>
          </div>
          <div>
            <label class="tiny">Horaire (aujourd’hui)</label>
            <select id="chkSlot" class="select"></select>
          </div>
        </div>
        <div style="margin-top:.7rem">
          <label class="tiny">Remarques (allergies, sauces, précisions...)</label>
          <textarea id="chkNote" rows="2" class="textarea"></textarea>
        </div>
        <p class="tiny" style="margin:.5rem 0 0">Le paiement s’effectue en magasin.</p>
      </div>

      <div class="actions" id="cartActions" style="display:none;justify-content:flex-end">
        <button class="btn btn-ghost" id="btnClear">Vider le panier</button>
        <a class="btn btn-light" href="carte.html">Ajouter d’autres produits</a>
        <button class="btn btn-primary" id="btnCheckout">Passer la commande</button>
      </div>
    </aside>
  </div>
</main>

<script>
  const CART_KEY = 'ce-panier';

  const elList   = document.getElementById('cartList');
  const elEmpty  = document.getElementById('cartEmpty');
  const elSummary= document.getElementById('cartSummary');
  const elActions= document.getElementById('cartActions');
  const elSumItems = document.getElementById('sumItems');
  const elSumPrice = document.getElementById('sumPrice');
  const elSumTotal = document.getElementById('sumTotal');
  const btnCheckout = document.getElementById('btnCheckout');

  // Mobile bar
  const mobileBar = document.getElementById('mobileBar');
  const mBtnCheckout = document.getElementById('mBtnCheckout');
  const mSumTotal = document.getElementById('mSumTotal');

  /** Verrouille le bouton pendant `ms` millisecondes */
  function lockCheckout(ms = 5000){
    if (!btnCheckout) return;
    btnCheckout.disabled = true;
    btnCheckout.classList.add('is-disabled');
    if (mBtnCheckout){
      mBtnCheckout.disabled = true;
      mBtnCheckout.classList.add('is-disabled');
    }
    setTimeout(()=>{
      btnCheckout.disabled = false;
      btnCheckout.classList.remove('is-disabled');
      if (mBtnCheckout){
        mBtnCheckout.disabled = false;
        mBtnCheckout.classList.remove('is-disabled');
      }
    }, ms);
  }

  // ------- Helpers images (miniatures) -------
  const alias = {
    'riz':'riz.png','riz noir':'riznoir.png','duo riz':'duoderiz.png','salade':'salade.png','pates':'pates.png', 
    'saumon':'saumon.png','poulet':'poulet.png','oeufs':'oeufs.png','tofu':'tofu.png','thon':'thon.png',
    'avocat':'avocat.png','betterave':'betterave.png','carotte':'carotte.png','champignon':'champignon.png',
    'choux rouge':'chouxrouge.png','concombre':'concombre.png','edamame':'edamame.png','feta':'feta.png', 
    'grenade':'grenade.png','mais':'mais.png','mangue':'mangue.png','mozzarella':'mozzarella.png', 'oignon rouge':'oignonrouge.png',
    'poivrons':'poivrons.png','radis':'radis.png','tomates':'tomates.png','wakame':'wakame.png', 'soja sucree':'soja_sucrée.png',
    'soja salee':'soja_salée.png','cesar':'césar.png','moutarde miel':'moutarde_miel.png', 'curry mangue':'curry_mango.png',
    'mayo epicee':'mayo_epicée.png','passion':'passion.png','balsamique':'balsamique.png', 'sesame':'sésame.png','pavot':'pavot.png',
    'cacahuete':'cacahuète.png','croutons':'croutons.png', 'coriandre':'coriandre.png','coriandre fraiche':'coriandre.png',
    'oignons frits':'oignons_frits.png', 'coca-cola':'coca.png','sprite':'sprite.png','ice tea':'icetea.png','oasis':'oasis.png',
    'orangina':'o.png','zero':'zéro.png','cherry':'cherry.png','fanta':'fanta.png', 'cookie':'cookie.png','cookie chocolat':'cookie.png',
    'cookie framboise':'cookief.png','cookie mangue':'cookiem.png', 'smoothie':'smoothie.png','smoothie kiwi':'smoothiekiwi.png',
    'smoothie mangue':'smoothiemangue.png','smoothie fruits rouges':'smoothierouge.png', 'smoothie bowl kiwi':'smoothiekiwi.png',
    'smoothie bowl mangue':'smoothiemangue.png','smoothie bowl fruits rouges':'smoothierouge.png', 'jus concombre':'jusconcombre.png',
    'jus pasteque':'juspasteque.png','jus carotte':'juscarotte.png','bubble tea' :'bbt.png'
  };
  function deaccent(str=''){ return String(str).normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase(); }
  function slugify(str=''){ return deaccent(str).replace(/[^a-z0-9]+/g,' ').trim(); }
  function imgFromItem(it){
    // Menus & poké
    if (it.type === 'menu') return 'images/pokesmoothie.png';
    if (it.type === 'poke'){
      if ((it.size||it.poke_size||'').toUpperCase()==='XL') return 'images/pokexl.png';
      return 'images/pokel.png';
    }
    const title = deaccent(it.title||'').trim();
    if (alias[title]) return 'images/'+alias[title];
    const sl = slugify(it.title||'');
    if (alias[sl]) return 'images/'+alias[sl];
    // fallback
    return 'images/placeholder.png';
  }

  // ------- Cart storage -------
  function loadCart(){
    try{ const raw = localStorage.getItem(CART_KEY); return raw ? JSON.parse(raw) : []; }
    catch(e){ return []; }
  }
  function saveCart(items){ localStorage.setItem(CART_KEY, JSON.stringify(items)); }

  function computeTotals(items){
    let count = 0, hasPrice = items.some(i => typeof i.price === 'number'), total = 0;
    for(const it of items){
      const q = Number(it.qty || 1);
      count += q;
      if(typeof it.price === 'number') total += it.price * q;
    }
    return {count, hasPrice, total};
  }

  function formatPrice(v){ return new Intl.NumberFormat('fr-FR',{style:'currency',currency:'EUR'}).format(v); }

  function itemTitle(it){
    if(it.type === 'menu') return 'Menu Poké + Smoothie';
    if(it.type === 'poke' && it.size) return `Poké ${it.size}`;
    return it.title || 'Article';
  }
  function itemMeta(it){
    if(it.type === 'menu' || it.type === 'poke'){
      const parts = [];
      if(it.poke_size || it.size) parts.push(`<b>Poké ${it.poke_size || it.size}</b>`);
      if(it.base) parts.push(`Base : ${it.base}`);
      if(Array.isArray(it.ingredients) && it.ingredients.length) parts.push(`Ingrédients : ${it.ingredients.join(', ')}`);
      if(Array.isArray(it.proteines) && it.proteines.length) parts.push(`Protéine(s) : ${it.proteines.join(', ')}`);
      if(it.sauce) parts.push(`Sauce : ${it.sauce}`);
      if(Array.isArray(it.toppings) && it.toppings.length) parts.push(`Toppings : ${it.toppings.join(', ')}`);
      if(it.smoothie) parts.push(`<b>Smoothie</b> : ${it.smoothie}`);
      return parts.join(' • ');
    }
    const p = [];
    if(it.variant) p.push(it.variant);
    if(it.note) p.push(it.note);
    return p.join(' • ');
  }

  function render(){
    const items = loadCart();
    elList.innerHTML = '';

    const hasItems = items.length > 0;
    elEmpty.style.display = hasItems ? 'none' : '';
    elSummary.style.display = hasItems ? '' : 'none';
    elActions.style.display = hasItems ? '' : 'none';
    if (mobileBar) mobileBar.style.display = hasItems ? '' : 'none';

    if(!hasItems){
      updateBadge(0);
      return;
    }

    items.forEach((it, idx) => {
      const div = document.createElement('div');
      div.className = 'item';

      const img = document.createElement('img');
      img.className = 'thumb';
      img.src = imgFromItem(it);
      img.alt = it.title || it.type || 'Article';

      const main = document.createElement('div');
      main.className = 'item-main';
      main.innerHTML = `
        <div class="item-head">
          <span class="tag">${it.type || 'article'}</span>
          <span class="title">${itemTitle(it)}</span>
        </div>
        <div class="meta">${itemMeta(it) || ''}</div>
      `;

      const right = document.createElement('div');
      right.className = 'item-right';
      const priceLine = document.createElement('div');
      priceLine.className = 'price-line';
      priceLine.textContent = (typeof it.price === 'number')
        ? 'Prix unitaire : ' + formatPrice(it.price)
        : 'Prix : —';

      const qty = document.createElement('div');
      qty.className = 'qty';
      qty.innerHTML = `
        <button aria-label="Diminuer" data-act="dec">−</button>
        <input type="number" min="1" step="1" value="${Number(it.qty||1)}" aria-label="Quantité">
        <button aria-label="Augmenter" data-act="inc">+</button>
      `;
      const rowAct = document.createElement('div');
      rowAct.className = 'row-actions';
      rowAct.innerHTML = `<button class="chip-btn" data-act="remove">🗑️ Supprimer</button>`;

      right.appendChild(priceLine);
      right.appendChild(qty);
      right.appendChild(rowAct);

      div.appendChild(img);
      div.appendChild(main);
      div.appendChild(right);
      elList.appendChild(div);

      const input = qty.querySelector('input');
      const btnInc = qty.querySelector('button[data-act="inc"]');
      const btnDec = qty.querySelector('button[data-act="dec"]');
      const btnRemove = rowAct.querySelector('button[data-act="remove"]');

      btnInc.addEventListener('click', ()=>{
        const arr = loadCart();
        arr[idx].qty = Number(arr[idx].qty||1) + 1;
        saveCart(arr); render();
      });
      btnDec.addEventListener('click', ()=>{
        const arr = loadCart();
        arr[idx].qty = Math.max(1, Number(arr[idx].qty||1) - 1);
        saveCart(arr); render();
      });
      input.addEventListener('change', ()=>{
        let q = parseInt(input.value, 10);
        if(isNaN(q) || q<1) q = 1;
        const arr = loadCart(); arr[idx].qty = q; saveCart(arr); render();
      });
      btnRemove.addEventListener('click', ()=>{
        const arr = loadCart(); arr.splice(idx,1); saveCart(arr); render();
      });
    });

    const totals = computeTotals(items);
    elSumItems.textContent = totals.count;
    if(totals.hasPrice){
      elSumPrice.textContent = formatPrice(totals.total);
      elSumTotal.textContent = formatPrice(totals.total);
      if (mSumTotal) mSumTotal.textContent = formatPrice(totals.total);
    }else{
      elSumPrice.textContent = '—';
      elSumTotal.textContent = '—';
      if (mSumTotal) mSumTotal.textContent = '—';
    }

    updateBadge(totals.count);
  }

  function updateBadge(count){
    const badge = document.getElementById('cartBadge'); // si présent dans le header flottant d'autres pages
    if(badge) badge.textContent = count;
  }

  document.getElementById('btnClear').addEventListener('click', ()=>{
    if(confirm('Vider complètement le panier ?')){
      localStorage.setItem(CART_KEY, JSON.stringify([]));
      render();
    }
  });

  // ---- Checkout ----
  function serializeItem(it){
    const out = {
      type: it.type,
      title: it.title || (it.type === 'menu' ? `Menu Poké ${it.poke_size} + Smoothie` : (it.size ? `Poké ${it.size}` : it.type)),
      qty: Number(it.qty||1),
      price: typeof it.price === 'number' ? it.price : null
    };
    if(it.type === 'poke' || it.type === 'menu'){
      out.details = {
        poke_size: it.poke_size || it.size || null,
        base: it.base || null,
        ingredients: Array.isArray(it.ingredients)? it.ingredients : [],
        proteines: Array.isArray(it.proteines)? it.proteines : [],
        sauce: it.sauce || null,
        toppings: Array.isArray(it.toppings)? it.toppings : [],
        smoothie: it.smoothie || null
      };
    }
    return out;
  }

  function buildTimeSlots(start="11:30", end="21:00", stepMinutes=15){
    const [sH, sM] = start.split(':').map(Number);
    const [eH, eM] = end.split(':').map(Number);
    const slots = [];
    const d = new Date(); d.setHours(sH, sM, 0, 0);
    const stop = new Date(); stop.setHours(eH, eM, 0, 0);
    while (d <= stop) {
      const hh = String(d.getHours()).padStart(2, '0');
      const mm = String(d.getMinutes()).padStart(2, '0');
      slots.push(`${hh}:${mm}`);
      d.setMinutes(d.getMinutes() + stepMinutes);
    }
    return slots;
  }
  function populateSlotSelect(selectId='chkSlot'){
    const sel = document.getElementById(selectId);
    if(!sel) return;
    sel.innerHTML = '';
    const now = new Date();
    const allSlots = buildTimeSlots("11:30","21:00",15);
    allSlots.forEach(t=>{
      const [h,m] = t.split(':').map(Number);
      const slotDate = new Date(); slotDate.setHours(h, m, 0, 0);
      if (slotDate >= now) {
        const opt = document.createElement('option'); opt.value = t; opt.textContent = t; sel.appendChild(opt);
      }
    });
    if (sel.options.length === 0) {
      allSlots.forEach(t=>{
        const opt = document.createElement('option'); opt.value = t; opt.textContent = t; sel.appendChild(opt);
      });
    }
  }

  async function submitOrder(){
    const items = loadCart();
    if(items.length === 0){ alert('Votre panier est vide.'); return; }

    const name  = (document.getElementById('chkName')?.value || '').trim();
    const phone = (document.getElementById('chkPhone')?.value || '').trim();
    const mode  = document.getElementById('chkMode')?.value || 'magasin';
    const slot  = document.getElementById('chkSlot')?.value || '';
    const note  = (document.getElementById('chkNote')?.value || '').trim();

    if(!name || !phone){ alert('Merci de renseigner au minimum votre nom et téléphone.'); return; }

    const totals = computeTotals(items);
    const payload = {
      created_at: new Date().toLocaleString('fr-FR'),
      client: { name, phone },
      pickup: { mode, slot },
      note,
      items: items.map(serializeItem),
      total: totals.total
    };

    try{
      const res = await fetch('/.netlify/functions/proxy', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });
      const json = await res.json();
      if(!res.ok){ console.error('Proxy error:', json); alert('Erreur lors de l’envoi de la commande.'); return; }
      alert('✅ Commande envoyée ! Paiement en magasin.\nMerci 🙂');
      localStorage.setItem(CART_KEY, JSON.stringify([]));
      render();
    }catch(e){
      console.error(e);
      alert('❌ Erreur réseau. Réessaie dans un instant.');
    }
  }

  document.getElementById('btnCheckout').addEventListener('click', async ()=>{
    if (btnCheckout.disabled) return;
    lockCheckout(5000);
    await submitOrder();
  });
  if (mBtnCheckout){
    mBtnCheckout.addEventListener('click', async ()=>{
      if (mBtnCheckout.disabled) return;
      lockCheckout(5000);
      await submitOrder();
    });
  }

  // Init
  if(!localStorage.getItem(CART_KEY)) localStorage.setItem(CART_KEY, JSON.stringify([]));
  render();
  populateSlotSelect();
  document.addEventListener('visibilitychange', ()=>{ if (!document.hidden) populateSlotSelect(); });

  (function(){
  const TARGET = 1200; // largeur "desktop" visée en px

  function ensureViewportTag(){
    let m = document.getElementById('vp');
    if (!m){
      m = document.createElement('meta');
      m.id = 'vp';
      m.name = 'viewport';
      document.head.appendChild(m);
    }
    return m;
  }

  function setDesktopViewport(){
    const vp = ensureViewportTag();

    // largeur dispo (prend la plus fiable selon l’appareil)
    const devW = Math.max(320, Math.min(window.innerWidth || 0, screen.width || 0));
    // calcule le zoom pour faire tenir 1200px dans l’écran
    const scale = Math.max(0.25, Math.min(1, devW / TARGET));

    // verrouille l’échelle pour garder le rendu "desktop"
    vp.setAttribute('content',
      `width=${TARGET},initial-scale=${scale},maximum-scale=${scale},user-scalable=no`
    );

    document.documentElement.classList.add('desktop-mode');
  }

  // appliquer dès que possible et réappliquer si l’orientation change
  document.addEventListener('DOMContentLoaded', setDesktopViewport);
  window.addEventListener('load', setDesktopViewport);
  window.addEventListener('orientationchange', ()=> setTimeout(setDesktopViewport, 150));
  window.addEventListener('resize', setDesktopViewport);
})();
</script>
</body>
</html>
